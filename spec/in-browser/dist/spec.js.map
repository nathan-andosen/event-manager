{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./spec/in-browser/index.js","webpack:///./spec/unit sync .spec$","webpack:///./spec/unit/event-listener.decorator.spec.ts","webpack:///./spec/unit/event-manager.spec.ts","webpack:///./src/event-listener.decorator.ts","webpack:///./src/event-manager.ts","webpack:///./src/index.ts","webpack:///./src/mixin.decorator.ts"],"names":[],"mappings":"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","file":"spec.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./spec/in-browser/index.js\");\n","\n// Our webpack.unit.tests.config.js file uses this to require all unit test files\n// so they can be tested in a browser for debugging\n\n// require all test files\nvar testsContext = require.context('../unit', true, /.spec$/);\ntestsContext.keys().forEach(testsContext);\n","var map = {\n\t\"./event-listener.decorator.spec\": \"./spec/unit/event-listener.decorator.spec.ts\",\n\t\"./event-manager.spec\": \"./spec/unit/event-manager.spec.ts\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./spec/unit sync recursive .spec$\";","import { EventManager, EventListener, INextFn } from '../../src';\n\ndescribe('Event Listener Decorator', () => {\n  it('should bind and unbind to events', () => {\n    const HUB_EVENTS = {\n      CNT_UP: 'cnt-up'\n    };\n    class Hub extends EventManager {\n      public cnt = 0;\n      constructor() {\n        super(HUB_EVENTS);\n        this.init();\n      }\n      private init() {}\n      destroy() {}\n\n      @EventListener({\n        eventName: HUB_EVENTS.CNT_UP,\n        initFn: 'init',\n        destroyFn: 'destroy'\n      })\n      cntListener() {\n        this.cnt++;\n      }\n    }\n    const hub = new Hub();\n    hub.emit(HUB_EVENTS.CNT_UP);\n    expect(hub.cnt).toEqual(1);\n    hub.destroy();\n    hub.emit(HUB_EVENTS.CNT_UP);\n    expect(hub.cnt).toEqual(1);\n  });\n\n  it('should use default angular init and destroy functions', () => {\n    const HUB_EVENTS = {\n      CNT_UP: 'cnt-up'\n    };\n    class Hub extends EventManager {\n      public cnt = 0;\n\n      constructor() { super(HUB_EVENTS); }\n\n      ngOnInit() { this.cnt++; }\n      ngOnDestroy() {}\n\n      @EventListener(HUB_EVENTS.CNT_UP)\n      protected cntListener() {\n        this.cnt++;\n      }\n    }\n    const hub = new Hub();\n    hub['ngOnInit'](); // bind our event listener\n    hub.emit(HUB_EVENTS.CNT_UP);\n    expect(hub.cnt).toEqual(2);\n    hub['ngOnDestroy'](); // unbind our event listener\n    hub.emit(HUB_EVENTS.CNT_UP);\n    expect(hub.cnt).toEqual(2);\n  });\n\n  it('should use property class', () => {\n    const HUB_EVENTS = {\n      CNT_UP: 'cnt-up'\n    };\n    class EventHub extends EventManager {\n      constructor() { super(HUB_EVENTS); }\n    }\n    class MyTest {\n      public cnt = 0;\n\n      constructor(private eventHub: EventHub) {\n        this.init();\n      }\n\n      private init() {}\n      destroy() {}\n\n      @EventListener({\n        eventName: HUB_EVENTS.CNT_UP,\n        eventClass: EventHub.name,\n        initFn: 'init',\n        destroyFn: 'destroy'\n      })\n      cntListener() {\n        this.cnt++;\n      }\n\n      count() {\n        this.eventHub.emit(HUB_EVENTS.CNT_UP);\n      }\n    }\n\n    const eventHub = new EventHub();\n    const myTest = new MyTest(eventHub);\n\n    expect(myTest.cnt).toEqual(0);\n    myTest.count();\n    expect(myTest.cnt).toEqual(1);\n    myTest.destroy();\n    myTest.count();\n    expect(myTest.cnt).toEqual(1);\n  });\n\n  it('should throw error as class name cant be found', () => {\n    let err: Error = null;\n    try {\n      const HUB_EVENTS = {\n        CNT_UP: 'cnt-up'\n      };\n      class EventHub extends EventManager {\n        constructor() { super(HUB_EVENTS); }\n      }\n      class MyTest {\n        public cnt = 0;\n\n        constructor(private eventHub: EventHub) {\n          this.init();\n        }\n\n        private init() {}\n        destroy() {}\n\n        @EventListener({\n          eventName: HUB_EVENTS.CNT_UP,\n          eventClass: 'fake-name',\n          initFn: 'init',\n          destroyFn: 'destroy'\n        })\n        cntListener() {\n          this.cnt++;\n        }\n\n        count() {\n          this.eventHub.emit(HUB_EVENTS.CNT_UP);\n        }\n      }\n\n      const eventHub = new EventHub();\n      const myTest = new MyTest(eventHub);\n    } catch(e) {\n      err = e;\n    }\n    expect(err.message).toContain('@EventListener: Unable to find class with '\n      + 'name fake-name');\n  });\n\n  it('should throw error as event class does not extend EventManager', () => {\n    let err: Error = null;\n    try {\n      class Hub {\n        public cnt = 0;\n        constructor() {\n          this.init();\n        }\n        private init() {}\n        destroy() {}\n  \n        @EventListener({\n          eventName: 'cnt-up',\n          initFn: 'init',\n          destroyFn: 'destroy'\n        })\n        protected cntListener() {\n          this.cnt++;\n        }\n      }\n      const hub = new Hub();\n    } catch(e) {\n      err = e;\n    }\n    expect(err.message)\n      .toContain('@EventListener: No EventManager class');\n  });\n\n  it('should throw error as decorator is not on a method', () => {\n    let err: Error = null;\n    try {\n      const HUB_EVENTS = {\n        CNT_UP: 'cnt-up'\n      };\n      class Hub extends EventManager {\n        public cnt = 0;\n        constructor() {\n          super(HUB_EVENTS);\n          this.init();\n        }\n        private init() {}\n        destroy() {}\n  \n        @EventListener({\n          eventName: HUB_EVENTS.CNT_UP,\n          initFn: 'init',\n          destroyFn: 'destroy'\n        })\n        protected cntListener = true;\n      }\n      const hub = new Hub();\n    } catch(e) {\n      err = e;\n    }\n    expect(err.message)\n      .toContain('@EventListener: Decorator must be applied to a method');\n  });\n\n  it('should throw error as args are not set', () => {\n    let err: Error = null;\n    try {\n      const HUB_EVENTS = {\n        CNT_UP: 'cnt-up'\n      };\n      class Hub extends EventManager {\n        public cnt = 0;\n        constructor() {\n          super(HUB_EVENTS);\n          this.init();\n        }\n        private init() {}\n        destroy() {}\n  \n        @EventListener(null)\n        protected cntListener() {\n          this.cnt++;\n        }\n      }\n    } catch(e) {\n      err = e;\n    }\n    expect(err.message).toContain('@EventListener: First argument must be of '\n      + 'type string or IEventListenerArgs')\n  });\n\n  it('should bind and unbind to events on the events property', () => {\n    const HUB_EVENTS = {\n      CNT_UP: 'cnt-up'\n    };\n    const USER_EVENTS = {\n      ADDED: 'user-added'\n    };\n    class Hub {\n      events = new EventManager(HUB_EVENTS);\n      userEvents = new EventManager(USER_EVENTS);\n      public cnt = 0;\n      public usersAdded = 0;\n      constructor() {\n        this.init();\n      }\n      private init() {}\n      destroy() {}\n\n      @EventListener({\n        eventName: HUB_EVENTS.CNT_UP,\n        initFn: 'init',\n        destroyFn: 'destroy'\n      })\n      cntListener() {\n        this.cnt++;\n      }\n\n      @EventListener({\n        eventName: USER_EVENTS.ADDED,\n        initFn: 'init',\n        destroyFn: 'destroy'\n      })\n      usersAddListener() {\n        this.usersAdded++;\n      }\n    }\n    const hub = new Hub();\n    hub.events.emit(HUB_EVENTS.CNT_UP);\n    expect(hub.cnt).toEqual(1);\n    hub.userEvents.emit(USER_EVENTS.ADDED);\n    expect(hub.usersAdded).toEqual(1);\n    hub.destroy();\n    hub.events.emit(HUB_EVENTS.CNT_UP);\n    expect(hub.cnt).toEqual(1);\n  });\n\n  it('should bind and unbind to events on random name property', () => {\n    const HUB_EVENTS = {\n      CNT_UP: 'cnt-up'\n    };\n    class EventFake { on() {} };\n    class Hub {\n      someProp = new EventFake();\n      randomName = new EventManager(HUB_EVENTS);\n      public cnt = 0;\n      constructor() {\n        this.init();\n      }\n      private init() {}\n      destroy() {}\n\n      @EventListener({\n        eventName: HUB_EVENTS.CNT_UP,\n        initFn: 'init',\n        destroyFn: 'destroy'\n      })\n      protected cntListener() {\n        this.cnt++;\n      }\n    }\n    const hub = new Hub();\n    hub.randomName.emit(HUB_EVENTS.CNT_UP);\n    expect(hub.cnt).toEqual(1);\n    hub.destroy();\n    hub.randomName.emit(HUB_EVENTS.CNT_UP);\n    expect(hub.cnt).toEqual(1);\n  });\n\n  it('should throw error as the events property is not of type EventManager',\n  () => {\n    let err: Error = null;\n    try {\n      class Hub {\n        events = {};\n        public cnt = 0;\n        constructor() {\n          this.init();\n        }\n        private init() {}\n        destroy() {}\n  \n        @EventListener({\n          eventName: 'cnt-up',\n          initFn: 'init',\n          destroyFn: 'destroy'\n        })\n        protected cntListener() {\n          this.cnt++;\n        }\n      }\n      const hub = new Hub();\n    } catch(e) {\n      err = e;\n    }\n    expect(err.message).toContain('@EventListener: No EventManager class');\n  });\n\n  it('should throw error as ngOnDestroy does not exist', () => {\n    let err: Error = null;\n    try {\n      const HUB_EVENTS = {\n        CNT_UP: 'cnt-up'\n      };\n      class Hub extends EventManager {\n        public cnt = 0;\n\n        ngOnInit() { this.cnt++; }\n\n        @EventListener(HUB_EVENTS.CNT_UP)\n        protected cntListener() {\n          this.cnt++;\n        }\n      }\n      const hub = new Hub(HUB_EVENTS);\n    } catch(e) {\n      err = e;\n    }\n    expect(err.message).toContain('must implement ngOnDestroy method');\n  });\n\n  it('should throw error as ngOnInit does not exist', () => {\n    let err: Error = null;\n    try {\n      const HUB_EVENTS = {\n        CNT_UP: 'cnt-up'\n      };\n      class Hub extends EventManager {\n        public cnt = 0;\n\n        ngOnDestroy() {}\n\n        @EventListener(HUB_EVENTS.CNT_UP)\n        protected cntListener() {\n          this.cnt++;\n        }\n      }\n      const hub = new Hub(HUB_EVENTS);\n    } catch(e) {\n      err = e;\n    }\n    expect(err.message).toContain('must implement ngOnInit method');\n  });\n\n  it('should throw error as destroyFn not set by initFn is',\n  () => {\n    let err: Error = null;\n    try {\n      class Hub {\n        events = {};\n        public cnt = 0;\n        constructor() {\n          this.init();\n        }\n        private init() {}\n        destroy() {}\n  \n        @EventListener({\n          eventName: 'cnt-up',\n          initFn: 'init'\n        })\n        protected cntListener() {\n          this.cnt++;\n        }\n      }\n      const hub = new Hub();\n    } catch(e) {\n      err = e;\n    }\n    expect(err.message).toContain('both initFn and destroyFn');\n  });\n\n\n  /**\n   * This test is used because of how Angular AoT and depenedency injection\n   * works. When injecting services into a component, each service gets the\n   * same type, so the EventListener decorator needs another way to find the\n   * correct EventManager class. To do this, it uses the event name, if the\n   * EventManager class contains the event name, it must be the right class.\n   * Thats why event names need to be unique.\n   */\n  it('should work with multiple classes of same type', () => {\n    class EventFake { on() {} };\n    const ONE_EVENTS = {\n      SOMETHING_ADDED: 's1-something-added'\n    };\n    class ServiceOne {\n      events: EventManager;\n      constructor(e: any) { this.events = new EventManager(e); }\n    }\n    const TWO_EVENTS = {\n      SOMETHING_ADDED: 's2-something-added'\n    };\n    class ServiceTwo {\n      events: EventManager;\n      constructor(e: any) { this.events = new EventManager(e); }\n    }\n\n    class Hub {\n      serviceOne = new ServiceOne(ONE_EVENTS);\n      fakeEventClass = new EventFake();\n      serviceTwoButDifferent = new ServiceTwo(ONE_EVENTS);\n      serviceTwo = new ServiceTwo(TWO_EVENTS);\n      public cnt = 0;\n      constructor() {\n        \n      }\n      ngOnInit() {}\n      ngOnDestroy() {}\n\n      @EventListener(TWO_EVENTS.SOMETHING_ADDED, ServiceTwo)\n      protected cntListener() {\n        this.cnt++;\n      }\n    }\n    const hub = new Hub();\n    hub.ngOnInit();\n    hub.serviceTwo.events.emit(TWO_EVENTS.SOMETHING_ADDED);\n    expect(hub.cnt).toEqual(1);\n    hub.serviceOne.events.emit(ONE_EVENTS.SOMETHING_ADDED);\n    expect(hub.cnt).toEqual(1);\n    hub.ngOnDestroy();\n  });\n\n\n  it('should throw error as two classes use same event name', () => {\n    class EventFake { on() {} };\n    const ONE_EVENTS = {\n      SOMETHING_ADDED: 'something-added'\n    };\n    class ServiceOne {\n      events: EventManager;\n      constructor(e: any) { this.events = new EventManager(e); }\n    }\n    const TWO_EVENTS = {\n      SOMETHING_ADDED: 'something-added'\n    };\n    class ServiceTwo {\n      events: EventManager;\n      constructor(e: any) { this.events = new EventManager(e); }\n    }\n\n    class Hub {\n      serviceOne = new ServiceOne(ONE_EVENTS);\n      fakeEventClass = new EventFake();\n      serviceTwoButDifferent = new ServiceTwo(ONE_EVENTS);\n      serviceTwo = new ServiceTwo(TWO_EVENTS);\n      public cnt = 0;\n      constructor() {\n        \n      }\n      ngOnInit() {}\n      ngOnDestroy() {}\n\n      @EventListener(TWO_EVENTS.SOMETHING_ADDED, ServiceTwo)\n      protected cntListener() {\n        this.cnt++;\n      }\n    }\n    let err;\n    try {\n      const hub = new Hub();\n      hub.ngOnInit();\n    } catch(e) {\n      err = e;\n    }\n    expect(err.message).toContain('Found 2 or more classes');\n  });\n});","import { EventManager, EventListener, INextFn } from '../../src';\n\ndescribe('Event Manager', () => {\n\n  /**\n   * emit()\n   */\n  describe('emit()', () => {\n    it('should emit event', (done) => {\n      let cnt = 0;\n      class Hub extends EventManager {}\n      const EVENTS = { EVENT_A: 'event-a' };\n      const hub = new Hub(EVENTS);\n      hub.on(EVENTS.EVENT_A, (data, next) => {\n        cnt++;\n        expect(cnt).toEqual(1);\n        expect(data.a).toEqual('a');\n        done();\n      });\n      hub.emit(EVENTS.EVENT_A, { a: 'a' });\n    });\n\n    it('should emit event and fire completed', (done) => {\n      let cnt = 0;\n      class Hub extends EventManager {}\n      const EVENTS = { EVENT_A: 'event-a' };\n      const hub = new Hub(EVENTS);\n      hub.on(EVENTS.EVENT_A, (data, next) => {\n        setTimeout(() => {\n          cnt++;\n          next();\n        }, 5);\n      });\n      hub.on(EVENTS.EVENT_A, (data, next) => {\n        setTimeout(() => {\n          cnt++;\n          next().completed(() => {\n            expect(cnt).toEqual(2);\n            done();\n          });\n        }, 10);\n      });\n      hub.emit(EVENTS.EVENT_A);\n    });\n  });\n\n\n  /**\n   * on()\n   */\n  describe('on()', () => {\n    it('should set scope', () => {\n      const EVENTS = { EVENT_A: 'event-a' };\n      class Hub extends EventManager {\n        public cnt = 0;\n        constructor() {\n          super(EVENTS);\n          this.on(EVENTS.EVENT_A, this.eventAListener, this);\n        }\n\n        eventAListener() {\n          this.cnt++;\n        }\n      }\n      const hub = new Hub();\n      hub.emit(EVENTS.EVENT_A);\n      expect(hub.cnt).toEqual(1);\n      hub.emit(EVENTS.EVENT_A);\n      expect(hub.cnt).toEqual(2);\n    });\n\n    it('should throw error as no event name is passed', () => {\n      let err: Error = null;\n      try {\n        const EVENTS = { EVENT_A: 'event-a' };\n        class Hub extends EventManager {}\n        const hub = new Hub(EVENTS);\n        hub.on(null, () => {});\n      } catch(e) {\n        err = e;\n      }\n      expect(err.message).toContain('No eventName passed');\n    });\n\n    it('should throw error as no callback function is passed', () => {\n      let err: Error = null;\n      try {\n        const EVENTS = { EVENT_A: 'event-a' };\n        class Hub extends EventManager {}\n        const hub = new Hub(EVENTS);\n        hub.on(EVENTS.EVENT_A, undefined);\n      } catch(e) {\n        err = e;\n      }\n      expect(err.message).toContain('No callback function');\n    });\n  });\n\n\n  /**\n   * once()\n   */\n  describe('once()', () => {\n    it('should set scope and fire event only once', () => {\n      const scope = { a: 1 };\n      const EVENTS = { EVENT_A: 'event-a' };\n      class Hub extends EventManager {}\n      const hub = new Hub(EVENTS);\n      hub.once(EVENTS.EVENT_A, function() {\n        this.a++;\n      }, scope);\n      hub.emit(EVENTS.EVENT_A);\n      expect(scope.a).toEqual(2);\n      hub.emit(EVENTS.EVENT_A);\n      expect(scope.a).toEqual(2);\n    });\n\n    it('should throw error as no event name is passed', () => {\n      let err: Error = null;\n      try {\n        const EVENTS = { EVENT_A: 'event-a' };\n        class Hub extends EventManager {}\n        const hub = new Hub(EVENTS);\n        hub.once(null, () => {});\n      } catch(e) {\n        err = e;\n      }\n      expect(err.message).toContain('No eventName passed');\n    });\n\n    it('should throw error as no callback function is passed', () => {\n      let err: Error = null;\n      try {\n        const EVENTS = { EVENT_A: 'event-a' };\n        class Hub extends EventManager {}\n        const hub = new Hub(EVENTS);\n        hub.once(EVENTS.EVENT_A, undefined);\n      } catch(e) {\n        err = e;\n      }\n      expect(err.message).toContain('No callback function');\n    });\n  });\n\n\n  /**\n   * off()\n   */\n  describe('off()', () => {\n    it('should stop listening to an event', () => {\n      let cnt = 0;\n      const EVENTS = { EVENT_A: 'event-a' };\n      class Hub extends EventManager {}\n      const hub = new Hub(EVENTS);\n      const listener = (data, next) => {\n        cnt++;\n        expect(data.a).toEqual('a');\n      };\n      hub.on(EVENTS.EVENT_A, listener);\n      hub.emit(EVENTS.EVENT_A, { a: 'a' });\n      expect(cnt).toEqual(1);\n      hub.off(EVENTS.EVENT_A, listener);\n      hub.emit(EVENTS.EVENT_A, { a: 'a' });\n      expect(cnt).toEqual(1);\n    });\n  });\n\n\n  /**\n   * offAll()\n   */\n  describe('offAll()', () => {\n    it('should stop listening to all event', () => {\n      let cnt = 0;\n      const EVENTS = {\n        EVENT_A: 'event-a',\n        EVENT_B: 'event-b',\n        EVENT_C: 'event-c'\n      };\n      class Hub extends EventManager {}\n      const hub = new Hub(EVENTS);\n      const listenerA1 = () => { cnt++; };\n      const listenerA2 = () => { cnt++; };\n      const listenerB = () => { cnt++; };\n      const listenerC = () => { cnt++; };\n      hub.on(EVENTS.EVENT_A, listenerA1);\n      hub.on(EVENTS.EVENT_A, listenerA2);\n      hub.on(EVENTS.EVENT_B, listenerB);\n      hub.on(EVENTS.EVENT_C, listenerC);\n      hub.emit(EVENTS.EVENT_A);\n      expect(cnt).toEqual(2);\n      hub.emit(EVENTS.EVENT_B);\n      expect(cnt).toEqual(3);\n      hub.emit(EVENTS.EVENT_C);\n      expect(cnt).toEqual(4);\n      hub.offAll(EVENTS.EVENT_A);\n      hub.emit(EVENTS.EVENT_A);\n      expect(cnt).toEqual(4);\n      hub.emit(EVENTS.EVENT_B);\n      expect(cnt).toEqual(5);\n      hub.offAll();\n      hub.emit(EVENTS.EVENT_B);\n      expect(cnt).toEqual(5);\n      hub.emit(EVENTS.EVENT_C);\n      expect(cnt).toEqual(5);\n    });\n  });\n});","import { EventManager } from './event-manager';\n\n// Arguments passed to the EventListener decorator\ninterface IEventListenerArgs {\n  eventName: string;\n  eventClass?: string;\n  initFn?: string;\n  destroyFn?: string;\n}\n\n\n/**\n * Get the property name that points to the class that extends or uses the\n * EventManager class\n *\n * @param {IEventListenerArgs} args\n * @param {*} classInstance\n * @returns {string}\n */\nfunction getClassPropertyName(args: IEventListenerArgs, instance: any)\n: string[] {\n  if (!args.eventClass) return null;\n  const keys: string[] = [];\n  const classKeys = Object.keys(instance);\n  for (const key of classKeys) {\n    if (instance[key].constructor.name === args.eventClass) keys.push(key);\n  }\n  if (keys.length) return keys;\n  throw new Error('@EventListener: Unable to find class with name '\n    + args.eventClass);\n}\n\n\n/**\n * Determine if the class is the EventManager class we want to subscribe too\n *\n * @param {EventManager} obj\n * @param {string} eventName\n * @param {boolean} [ignoreName=false]\n * @returns\n */\nfunction isEventManagerClassWeWant(obj: EventManager, eventName: string,\nignoreName = false) {\n  if (!obj) return false;\n  if (!ignoreName && obj.constructor.name !== EventManager.name) return false;\n  return (obj.eventExists && obj.eventExists(eventName));\n}\n\n\n/**\n * Get the instance of the EventManager class\n *\n * @param {IEventListenerArgs} args\n * @param {*} classInstance\n * @returns {*}\n */\nfunction getEventClass(args: IEventListenerArgs, classInstance: any): any {\n  let propertyNames = getClassPropertyName(args, classInstance);\n  const eventClass = { foundCnt: 0, obj: null };\n  if (propertyNames === null) {\n    if (isEventManagerClassWeWant(classInstance, args.eventName, true)) {\n      return classInstance;\n    }\n    // the EventManager class we are trying to find might just be a property\n    // on the class\n    propertyNames = Object.getOwnPropertyNames(classInstance);\n  }\n  for (const propName of propertyNames) {\n    // const propInstance = (propName) ? classInstance[propName] : classInstance;\n    const propInstance = classInstance[propName];\n    // the property itself might be of type EventManager\n    if (isEventManagerClassWeWant(propInstance, args.eventName)) {\n      eventClass.obj = propInstance;\n      eventClass.foundCnt++;\n    }\n    // or the property is a class that extends EventManager\n     else if (isEventManagerClassWeWant(propInstance, args.eventName, true)) {\n      eventClass.obj = propInstance;\n      eventClass.foundCnt++;\n    }\n    // or its a class that has a property in it that is of type EventManager\n    const propNames = Object.getOwnPropertyNames(propInstance);\n    for (const propName of propNames) {\n      if (isEventManagerClassWeWant(propInstance[propName], args.eventName)) {\n        eventClass.obj = propInstance[propName];\n        eventClass.foundCnt++;\n      }\n    }\n  }\n\n  if (eventClass.foundCnt > 1) {\n    throw new Error('@EventListener: Found 2 or more classes using same event'\n      + ' names (' + args.eventName + ')');\n  }\n  if (!eventClass.obj) {\n    throw new Error('@EventListener: No EventManager class found that emits'\n      + ' event: ' + args.eventName);\n  }\n  return eventClass.obj;\n}\n\n\n/**\n * Validate that either the initFn & destroyFn are set or we assume we are\n * runing in Angular so the ngOnInit & ngOnDestroy must be set because\n * decorators and life cycle hooks do not work with Angular AoT:\n * \n * https://github.com/angular/angular/issues/16023\n * https://github.com/angular/angular/issues/31495\n *\n * @param {IEventListenerArgs} args\n * @param {*} target\n * @returns\n */\nfunction validateFunctionsExist(args: IEventListenerArgs, target: any) {\n  if (args.initFn || args.destroyFn) {\n    // both must exist\n    if (!args.initFn || !args.destroyFn) {\n      throw new Error('@EventListener: both initFn and destroyFn have to be '\n        + 'set together');\n    }\n  } else {\n    // we assume we are running in Angular and since Angular AoT does not\n    // work with decorators and life cycle hooks, we must check that the\n    // two life cycle hooks exist on the class\n    if (!target.constructor.prototype.ngOnInit) {\n      throw new Error('@EventListener: Class ' + target.constructor.name +\n        ' must implement ngOnInit method');\n    }\n    if (!target.constructor.prototype.ngOnDestroy) {\n      throw new Error('@EventListener: Class ' + target.constructor.name +\n        ' must implement ngOnDestroy method');\n    }\n  }\n  return true;\n}\n\n\n/**\n * Listen to events that are fired from EventManager classes\n *\n * @export\n * @param {(string|IEventListenerArgs)} arg1\n * @param {string} [arg2]\n * @returns\n */\nexport function EventListener(eventName: string, classObject?: Object): any;\nexport function EventListener(args: IEventListenerArgs): any;\nexport function EventListener(arg1: string | IEventListenerArgs, arg2?: Function) {\n  return (target: any, propertyKey: string, descriptor: PropertyDescriptor) => {\n    if (!descriptor || typeof descriptor.value !== 'function') {\n      throw new Error('@EventListener: Decorator must be applied to a method');\n    }\n\n    if (!arg1\n      || (typeof arg1 !== 'string' && arg1.constructor !== {}.constructor)) {\n      throw new Error('@EventListener: First argument must be of type string '\n        + 'or IEventListenerArgs');\n    }\n\n    let params: IEventListenerArgs;\n    if (typeof arg1 === 'string') {\n      params = { eventName: arg1, eventClass: (arg2) ? arg2.name : null };\n    } else {\n      params = arg1;\n    }\n\n\n    validateFunctionsExist(params, target);\n    const initFnName = (params.initFn || 'ngOnInit');\n    const destroyFnName = (params.destroyFn || 'ngOnDestroy');\n    let eventClassInstance = null;\n\n    // hook into our init function so we can bind to an event\n    const initFnOrignal = (target[initFnName] || function () { });\n    target.constructor.prototype[initFnName] = function () {\n      initFnOrignal.apply(this, arguments);\n      eventClassInstance = getEventClass(params, this);\n      eventClassInstance.on(params.eventName, descriptor.value, this);\n    };\n\n    // hook into our destroy function so we can unbind from an event\n    const destroyFnOriginal = (target[destroyFnName] || function () { });\n    target.constructor.prototype[destroyFnName] = function () {\n      destroyFnOriginal.apply(this, arguments);\n      eventClassInstance.off(params.eventName, descriptor.value);\n    };\n  };\n};\n\n","type ICallbackFn = (data?: any, next?: INextFn) => void;\ninterface IEventData {\n  fn: ICallbackFn;\n  scope?: any;\n  once?: boolean;\n}\n\n// type for the next() function\nexport type INextFn = () => { completed: (cb: () => void) => void };\n\n\n/**\n * Manage events with emit, on and off methods.\n *\n * @export\n * @class EventManager\n */\nexport class EventManager {\n  private emittedEvents: { [key: string]: boolean };\n\n  // subscribed events\n  private _events: { [eventName: string]: IEventData[] };\n  private set events(val: { [eventName: string]: IEventData[] }) {\n    this._events = val;\n  }\n  private get events(): { [eventName: string]: IEventData[] } {\n    return (this._events || (this._events = {}));\n  }\n\n\n  /**\n   * Creates an instance of EventManager.\n   *\n   * @param {{ [key: string]: string }} emittedEvents The possible events that\n   * can be emitted from this manager\n   * @memberof EventManager\n   */\n  constructor(emittedEvents: { [key: string]: string }) {\n    this.emittedEvents = {};\n    for (const key in emittedEvents) {\n      this.emittedEvents[emittedEvents[key]] = true;\n    }\n  }\n\n\n  /**\n   * Determine if an event exists within this manager\n   *\n   * @param {string} name\n   * @returns {boolean}\n   * @memberof EventManager\n   */\n  eventExists(name: string): boolean {\n    return (this.emittedEvents && this.emittedEvents[name]) ? true : false;\n  }\n\n\n  /**\n   * Emit an event\n   *\n   * @param {string} eventName\n   * @param {*} [data]\n   * @returns {void}\n   * @memberof EventManager\n   */\n  emit(eventName: string, data?: any) {\n    if (!this.events[eventName]) return;\n    let completedEvents = 0;\n    const completedCallbacks: Function[] = [];\n    for (const eventFunction of this.events[eventName]) {\n      eventFunction.fn.call(eventFunction.scope, data, () => {\n        // place in a timeout so that the return statement is executed first\n        setTimeout(() => {\n          if (++completedEvents === this.events[eventName].length) {\n            completedCallbacks.forEach((cb) => { cb(); });\n          }\n        }, 0);\n        return {\n          completed: (cb: Function) => { if (cb) completedCallbacks.push(cb); }\n        };\n      });\n      if (eventFunction.once) this.off(eventName, eventFunction.fn);\n    }\n  }\n\n\n  /**\n   * Listen to an event\n   *\n   * @param {string} eventName\n   * @param {(data?: any, next?: INextFn) => void} fn\n   * @param {*} [scope]\n   * @memberof EventManager\n   */\n  on(eventName: string, fn: ICallbackFn, scope?: any) {\n    this.addFn(eventName, fn, scope);\n  }\n\n\n  /**\n   * Listen to an event once\n   *\n   * @param {string} eventName\n   * @param {(data?: any, next?: INextFn) => void} fn\n   * @param {*} [scope]\n   * @memberof EventManager\n   */\n  once(eventName: string, fn: ICallbackFn, scope?: any) {\n    this.addFn(eventName, fn, scope, true);\n  }\n\n\n  /**\n   * Add a function callback for an event\n   *\n   * @private\n   * @param {string} eventName\n   * @param {ICallbackFn} fn\n   * @param {*} [scope]\n   * @param {boolean} [once=false]\n   * @memberof EventManager\n   */\n  private addFn(eventName: string, fn: ICallbackFn, scope?: any, once = false) {\n    const fnName = (once) ? 'once' : 'on';\n    if (!eventName) throw new Error(`No eventName passed to ${fnName}()`);\n    if (!fn) throw new Error(`No callback function passed to ${fnName}()`);\n    (this.events[eventName] || (this.events[eventName] = [])).push({\n      fn: fn,\n      scope: scope,\n      once: once\n    });\n  }\n\n\n  /**\n   * Unbind from an event\n   *\n   * @param {string} eventName\n   * @param {(data?: any, next?: INextFn) => void} fn\n   * @returns\n   * @memberof EventManager\n   */\n  off(eventName: string, fn: (data?: any, next?: INextFn) => void) {\n    if (!fn || !this.events[eventName]) return;\n    for (let i = 0 ; i < this.events[eventName].length; i++) {\n      if (this.events[eventName][i].fn === fn) {\n        this.events[eventName].splice(i, 1); break;\n      }\n    }\n  }\n\n\n  /**\n   * Unbind from all events.\n   *\n   * @param {string} [eventName] If set, only events with this name will be \n   * unsubscribed.\n   * @returns\n   * @memberof EventManager\n   */\n  offAll(eventName?: string) {\n    if (eventName) return delete this.events[eventName];\n    this.events = {};\n  }\n}","export * from './event-manager';\nexport * from './event-listener.decorator';\nexport * from './mixin.decorator';","export function Mixin(classes: any[], ignoreConstructor = true) {\n  return (target: Function) => {\n    classes.forEach((clas) => {\n      Object.getOwnPropertyNames(clas.prototype).forEach((name) => {\n        if (ignoreConstructor && name === 'constructor') return;\n        const propDesc = Object.getOwnPropertyDescriptor(clas.prototype, name);\n        Object.defineProperty(target.prototype, name, propDesc);\n      });\n    });\n  };\n};"],"sourceRoot":""}